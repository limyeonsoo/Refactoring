# 2. Refactoring Rule

### 리팩토링 (noun) & (verb)

> 소프트웨어의 겉보기 동작은 그대로 유치한 채.
1. 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법.
2. 여러 가지 리팩터링 기법을 적용해서 소프트웨어를 재구성하다.

### ⭐ 리팩토링 과정에서 발견된 버그는 리팩터링 후에도 그대로 남아 있어야 한다.

→ 이유 : 리팩터링은 기능 추가 의 단계가 아니라, 코드 변경의 단계이다.

⇒ 수정 시점 : '기능 추가' 단계

⇒ 개발 시 : '기능 추가' → '리팩터링' → '기능 추가' → '리팩터링' → ... ... 반복.
(중간에 test를 이용하여 진척도 확인)

### But, 동작상 작은 수정.

1. 콜스택이 달라질 때 : 함수 추출하기 등으로 인해 콜스택 순서가 바뀔수 있음.
2. 모듈의 인터페이스 : 함수 옮기기 / 함수선언 바꾸기 등으로 인터페이스가 바뀔 수 있음.

### ⭐ 리팩토링 과정에서 성능이 나빠질 수 있다.

리팩토링의 목적은 코드의 이해도 향상이지, 성능은 관련없다.
→ '성능 최적화'단계에서 성능 향상 목표에 도달해야 한다.

## 리팩토링의 목적

1. 소프트웨어 설계가 좋아진다.
    - 아키텍처 이해가 됨. → 구조가 무너지지 않는다.
    - 중복 코드가 제거 됨.
2. 소프트웨어 이해가 쉬워진다.
    - 이해가 쉬우면 코드 수정이 쉽다.
    - 이해가 쉬우면 의사 전달이 쉽다.
    - 이해가 쉬우면 기억하기 쉽다.
3. 버그를 쉽게 찾을 수 있다.
    - 이해하기 쉬우니 버그를 쉽게 찾을 수 있다.
4. 프로그래밍 속도를 높일 수 있다.
    - 내부 설계 탄탄 & 가독성 개선 & 버그 감소 ⇒ 프로그래밍 속도 향상.
    - 모순이라 생각 할 수 있음. 리팩토링 시간이 오래 걸리니 속도가 느리지 않냐.

    ![2%20Refactoring%20Rule%20b269365299d14321abadca80e6c9f95c/Untitled.png](2%20Refactoring%20Rule%20b269365299d14321abadca80e6c9f95c/Untitled.png)